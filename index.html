<!DOCTYPE html>
<html data-bs-theme="light" lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Blog de Miguel</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/Hero-Carousel-images.css">
</head>

<body><div class="container mt-5">
  <h1 class="text-center mb-4">Últimas Publicaciones del Blog</h1>
  <div id="blog-posts" class="row"></div>
</div>

<script>
  const blogUrl = "https://miguelherediavlog.blogspot.com/";
  const apiKey = "AIzaSyDxxxxx"; // Tu API Key
  
  async function fetchPosts() {
    const url = `https://www.googleapis.com/blogger/v3/blogs/byurl?url=${blogUrl}&key=${apiKey}`;

    try {
      const blogResponse = await fetch(url);
      const blogData = await blogResponse.json();

      if (blogData.id) {
        const postsUrl = `https://www.googleapis.com/blogger/v3/blogs/${blogData.id}/posts?key=${apiKey}`;
        const postsResponse = await fetch(postsUrl);
        const postsData = await postsResponse.json();

        if (postsData.items) {
          const container = document.getElementById("blog-posts");
          container.innerHTML = "";

          postsData.items.slice(0, 6).forEach(post => {
            const col = document.createElement("div");
            col.classList.add("col-md-4", "mb-4");
            col.innerHTML = `
              <div class="card h-100 shadow">
                <div class="card-body">
                  <h5 class="card-title">${post.title}</h5>
                  <p class="card-text">${post.contentSnippet ? post.contentSnippet.slice(0, 100) : 'Sin descripción'}...</p>
                  <a href="${post.url}" target="_blank" class="btn btn-primary">Leer más</a>
                </div>
              </div>
            `;
            container.appendChild(col);
          });
        } else {
          console.warn("No se encontraron publicaciones.");
        }
      }
    } catch (error) {
      console.error("Error al conectar con la API:", error);
    }
  }

  document.addEventListener("DOMContentLoaded", fetchPosts);
</script>

    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
</body>

</html>